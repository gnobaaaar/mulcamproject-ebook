{"ast":null,"code":"var _jsxFileName = \"/Users/dengseum/repo/multiicampus21_project/front/src/components/Header/Header.js\",\n    _s = $RefreshSig$();\n\nimport '../../App.css';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.css';\nimport BookCreate from '../WeBook/BookCreate';\nimport { Button, Segment } from 'semantic-ui-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Header(props) {\n  _s();\n\n  const [userprofile, setUserprofile] = useState(false);\n  const [userPhoto, setUserPhoto] = useState();\n  useEffect(() => {\n    fetch('http://choi1994.iptime.org:8000/user/current/', {\n      headers: {\n        Authorization: `JWT ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(json => {\n      // 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\n      if (json.id) {// 유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\n      }\n\n      fetch('http://choi1994.iptime.org:8000/user/auth/profile/' + json.id + '/update/', {\n        method: 'PATCH',\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(userData => {\n        setUserPhoto(userData.photo);\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [userPhoto]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-nav\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-nav-links\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"header-logo\",\n            to: \"/\",\n            style: {\n              textDecoration: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"titleFonts\",\n              children: \"BookShelf\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 95\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), props.modal === false ? /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"header-btn\",\n              children: \"\\uB85C\\uADF8\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              inverted: true,\n              color: \"brown\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/BookCreate\",\n                style: {\n                  color: 'brown',\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"\\uC0C8 \\uAE00 \\uC791\\uC131\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 117\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 41\n            }, this), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-container\",\n              onClick: () => {\n                setUserprofile(!userprofile);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: userPhoto,\n                className: \"user-image\",\n                alt: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                stroke: \"currentColor\",\n                fill: \"currentColor\",\n                strokeWidth: \"0\",\n                viewBox: \"0 0 24 24\",\n                height: \"1em\",\n                width: \"1em\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M7 10l5 5 5-5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 41\n            }, this), userprofile === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-profile\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-menu\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/mypage\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu\",\n                    children: \"\\uB9C8\\uC774\\uD398\\uC774\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 80\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 61\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  onClick: props.handleLogout,\n                  to: \"/\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu\",\n                    children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 103\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 61\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 53\n            }, this) : null]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Header, \"iFrvkSRWnuCxFyvL+r3YOxHgS/U=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/dengseum/repo/multiicampus21_project/front/src/components/Header/Header.js"],"names":["React","useState","useEffect","Link","BookCreate","Button","Segment","Header","props","userprofile","setUserprofile","userPhoto","setUserPhoto","fetch","headers","Authorization","localStorage","getItem","then","res","json","id","method","userData","photo","catch","error","console","log","textDecoration","modal","color","handleLogout"],"mappings":"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","sourcesContent":["import '../../App.css';\nimport React, { useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport './Header.css';\nimport BookCreate from '../WeBook/BookCreate';\nimport { Button, Segment } from 'semantic-ui-react';\n\nfunction Header(props) {\n  const [userprofile, setUserprofile] = useState(false);\n  const [userPhoto, setUserPhoto] = useState();\n  useEffect(()=>{\n    fetch('http://choi1994.iptime.org:8000/user/current/', {\n      headers: {\n        Authorization: `JWT ${localStorage.getItem('token')}`\n      }\n    })\n      .then(res => res.json())\n      .then(json => {\n        // 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\n        if (json.id) {\n          // 유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\n        }fetch('http://choi1994.iptime.org:8000/user/auth/profile/' + json.id + '/update/', {\n          method: 'PATCH',\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          },\n        })\n          .then((res)=>res.json())\n          .then((userData)=> {\n            setUserPhoto(userData.photo);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }).catch(error => {\n        console.log(error);\n      });\n  }, [userPhoto]);\n\n  return (\n        <>\n            <div className=\"header\">\n                <div className=\"header-nav\">\n                    <div className=\"header-nav-links\">\n                        <Link className=\"header-logo\" to=\"/\" style={{textDecoration: 'none'}}><div className='titleFonts'>BookShelf</div></Link>\n                        {\n                            props.modal === false\n                              ? <Link to=\"/login\"><button className=\"header-btn\">로그인</button></Link>\n                              : (\n                                    <>\n                                        <Button inverted color='brown'>\n                                            <Link to=\"/BookCreate\" style={{color: 'brown', textDecoration: 'none'}}><div>새 글 작성하기</div></Link>\n                                        </Button>\n                                        &nbsp;&nbsp;&nbsp;\n                                        <div className=\"user-container\" onClick={()=>{ setUserprofile(!userprofile); }}>\n                                            <img src={userPhoto} className=\"user-image\" alt=\"/\"></img>\n                                            <svg stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\n                                                <path d=\"M7 10l5 5 5-5z\"></path>\n                                            </svg>\n                                        </div>\n                                        {\n                                            userprofile === true\n                                              ? (\n                                                    <div className=\"user-profile\">\n                                                        <div className=\"profile-menu\">\n                                                            <Link to=\"/mypage\"><div className=\"menu\">마이페이</div></Link>\n                                                            <Link onClick={props.handleLogout} to=\"/\"><div className=\"menu\">로그아웃</div></Link>\n                                                        </div>\n                                                    </div>\n                                              )\n                                              : null\n                                        }\n                                    </>\n                              )\n                        }\n                    </div>\n                </div>\n            </div>\n        </>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}