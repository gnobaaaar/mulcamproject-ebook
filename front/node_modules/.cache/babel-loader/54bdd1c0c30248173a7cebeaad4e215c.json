{"ast":null,"code":"var _jsxFileName = \"/Users/dengseum/repo/multiicampus21_project/front/src/components/modals/LoginModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport './LoginModal.css';\nimport axios from 'axios'; // import GoogleLogin from 'react-google-login';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LoginModal(props) {\n  _s();\n\n  let [JoinLoign, setJoinLogin] = useState('로그인');\n  const history = useHistory();\n  let [username, setUsername] = useState();\n  let [userpassword, setUserPassword] = useState();\n  const data = {\n    username: username,\n    password: userpassword\n  };\n\n  const handleNameChange = e => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = e => {\n    setUserPassword(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exit\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              history.goBack();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              stroke: \"currentColor\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              height: \"1em\",\n              width: \"1em\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 156\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: JoinLoign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: JoinLoign === '로그인' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              onChange: handleNameChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              id: \"password\",\n              onChange: handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"JoinLoign-button\",\n              onClick: e => {\n                e.preventDefault();\n                axios.post('http://choi1994.iptime.org:8000/login/', data, {\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(response => {\n                  // user data와 token정보가 일치하면 로그인 성공\n                  if (response.data.user && response.data.user.username && response.data.token) {\n                    props.userHasAuthenticated(true, response.data.user.username, response.data.token);\n                    history.push('/');\n                    props.setModal(true);\n                  } else {// alert('아이디 또는 비밀번호를 확인해주세요.');\n                  }\n                }); // .catch(error => alert(error));\n              },\n              children: JoinLoign\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              onChange: handleNameChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              onChange: handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"JoinLoign-button\",\n              onClick: e => {\n                e.preventDefault();\n                fetch('http://choi1994.iptime.org:8000/user/', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(data)\n                }).then(res => res.json()).then(json => {\n                  if (json.username && json.token) {\n                    props.userHasAuthenticated(true, json.username, json.token);\n                    history.push('/');\n                    props.setModal(true);\n                  } else {// alert('사용불가능한 아이디입니다.');\n                  }\n                }); // .catch(error => alert(error));\n              },\n              children: JoinLoign\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-foot\",\n          children: JoinLoign === '회원가입' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC774\\uBBF8 \\uD68C\\uC6D0\\uC774\\uC2E0\\uAC00\\uC694  ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"foot-link\",\n              onClick: e => {\n                e.preventDefault();\n                setJoinLogin('로그인');\n              },\n              children: \"\\uB85C\\uADF8\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC544\\uC9C1 \\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2E0\\uAC00\\uC694 ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"foot-link\",\n              onClick: e => {\n                e.preventDefault();\n                setJoinLogin('회원가입');\n              },\n              children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(LoginModal, \"Ho4PQpODCFyaUAtH7LZDhZ1GD1Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginModal;\nexport default LoginModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginModal\");","map":{"version":3,"sources":["/Users/dengseum/repo/multiicampus21_project/front/src/components/modals/LoginModal.js"],"names":["React","useState","useHistory","axios","LoginModal","props","JoinLoign","setJoinLogin","history","username","setUsername","userpassword","setUserPassword","data","password","handleNameChange","e","target","value","handlePasswordChange","goBack","preventDefault","post","headers","then","response","user","token","userHasAuthenticated","push","setModal","fetch","method","body","JSON","stringify","res","json"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport './LoginModal.css';\nimport axios from 'axios';\n// import GoogleLogin from 'react-google-login';\n\nfunction LoginModal(props) {\n  let [JoinLoign, setJoinLogin] = useState('로그인');\n  const history = useHistory();\n\n  let [username, setUsername] = useState();\n  let [userpassword, setUserPassword] = useState();\n\n  const data = {username: username, password: userpassword};\n\n  const handleNameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setUserPassword(e.target.value);\n  };\n\n  return (\n        <>\n            <div className=\"login-container\">\n                <div className=\"login-box\">\n                    <div className=\"exit\">\n                        <button onClick={()=>{ history.goBack(); }}>\n                            <svg stroke=\"currentColor\" fill=\"currentColor\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>\n                        </button>\n                    </div>\n                    <span>{JoinLoign}</span>\n                    <form>\n                        {\n                            JoinLoign === '로그인'\n                              ? (\n                                    <>\n                                        <input type=\"text\" placeholder=\"아이디를 입력하세요\" onChange={handleNameChange}/>\n                                        <input type=\"password\" placeholder=\"비밀번호를 입력하세요\" id=\"password\" onChange={handlePasswordChange}/>\n                                        <button className=\"JoinLoign-button\" onClick={(e)=>{\n                                          e.preventDefault();\n                                          axios.post('http://choi1994.iptime.org:8000/login/', data, {headers: {\n                                            'Content-Type': 'application/json'\n                                          }})\n                                            .then(response => {\n                                              // user data와 token정보가 일치하면 로그인 성공\n                                              if (\n                                                response.data.user\n                                                        && response.data.user.username\n                                                        && response.data.token\n                                              ) {\n                                                props.userHasAuthenticated(\n                                                  true,\n                                                  response.data.user.username,\n                                                  response.data.token);\n                                                history.push('/');\n                                                props.setModal(true);\n                                              } else {\n                                                // alert('아이디 또는 비밀번호를 확인해주세요.');\n                                              }\n                                            });\n                                          // .catch(error => alert(error));\n                                        }}>{JoinLoign}</button>\n                                    </>\n                              )\n                              : (\n                                    <>\n                                        <input type=\"text\" placeholder=\"아이디를 입력하세요\" onChange={handleNameChange}/>\n                                        <input type=\"password\" placeholder=\"비밀번호를 입력하세요\" onChange={handlePasswordChange}/>\n                                        <button className=\"JoinLoign-button\" onClick={(e)=>{\n                                          e.preventDefault();\n                                          fetch('http://choi1994.iptime.org:8000/user/', {\n                                            method: 'POST',\n                                            headers: {\n                                              'Content-Type': 'application/json'\n                                            },\n                                            body: JSON.stringify(data)\n                                          }).then(res => res.json())\n                                            .then(json => {\n                                              if (json.username && json.token) {\n                                                props.userHasAuthenticated(\n                                                  true,\n                                                  json.username,\n                                                  json.token);\n                                                history.push('/');\n                                                props.setModal(true);\n                                              } else {\n                                                // alert('사용불가능한 아이디입니다.');\n                                              }\n                                            });\n                                          // .catch(error => alert(error));\n                                        }}\n                                        >{JoinLoign}</button>\n                                    </>\n                              )\n                        }\n\n                    </form>\n                    <div className=\"login-foot\">\n                        {\n                            JoinLoign === '회원가입'\n                              ? (\n                                    <>\n                                        <span>이미 회원이신가요  ?</span>\n                                        <div className=\"foot-link\" onClick={(e)=>{\n                                          e.preventDefault();\n                                          setJoinLogin('로그인');\n                                        }}>로그인</div>\n                                    </>\n                              )\n                              : (\n                                    <>\n                                        <span>아직 회원이 아니신가요 ?</span>\n                                        <div className=\"foot-link\" onClick={(e)=>{\n                                          e.preventDefault();\n                                          setJoinLogin('회원가입');\n                                        }}>회원가입</div>\n                                    </>\n                              )\n                        }\n                    </div>\n                </div>\n            </div>\n        </>\n  );\n}\nexport default LoginModal;\n"]},"metadata":{},"sourceType":"module"}