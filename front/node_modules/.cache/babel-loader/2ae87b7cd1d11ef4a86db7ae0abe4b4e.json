{"ast":null,"code":"import _initializerDefineProperty from \"/Users/dengseum/repo/multiicampus21_project/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/dengseum/repo/multiicampus21_project/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/dengseum/repo/multiicampus21_project/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n\nimport { makeObservable, action, observable, runInAction } from 'mobx';\nimport ArticleApi from '../api/ArticleApi';\nlet ArticleStore = (_class = class ArticleStore {\n  constructor() {\n    _initializerDefineProperty(this, \"articles\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"article\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"Message\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"index\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"bookId\", _descriptor5, this);\n\n    _initializerDefineProperty(this, \"viewState\", _descriptor6, this);\n\n    _initializerDefineProperty(this, \"memo\", _descriptor7, this);\n\n    this.articleApi = new ArticleApi();\n    makeObservable(this);\n  }\n\n  setArticleProp(name, value) {\n    this.article = { ...this.article,\n      [name]: value\n    };\n  } // article_id 저장\n\n\n  setIndexProp(id) {\n    this.index = id;\n  } // viewState 관리\n\n\n  setViewState(key) {\n    this.viewState = key;\n  } // memo 관리\n\n\n  setMemoState(content) {\n    this.memo = content;\n  }\n\n  async addArticle() {\n    const result = await this.articleApi.articleCreate(this.article);\n\n    if (result == null) {\n      this.message = '추가되지 않았습니다.';\n    }\n\n    this.articles = this.articles.concat(this.article);\n  }\n\n  async removeArticle() {\n    await this.articleApi.articleDelete(this.article.communication_id);\n    const result = await this.articleApi.articleList();\n    runInAction(() => {\n      this.articles = article;\n    });\n    runInAction(() => {\n      this.article = {};\n    });\n  }\n\n  async modifyArticle() {\n    await this.articleApi.articleUpdate(this.article.communication_id, this.article);\n    const result = await this.articleApi.articleList();\n    runInAction(() => {\n      this.articles = result;\n    });\n    runInAction(() => {\n      this.article = {};\n    });\n  }\n\n  async selectArticle(id) {\n    const result = await this.articleApi.articleDetail(id);\n    runInAction(() => {\n      this.article = result;\n    });\n  }\n\n  async selectArticleBook(id) {\n    const result = await this.articleApi.articleBook(id);\n    runInAction(() => {\n      this.articles = result;\n    });\n  }\n\n  async selectAll() {\n    const result = await this.articleApi.articleList();\n    runInAction(() => {\n      this.articles = result;\n    });\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"articles\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"article\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {\n      articleId: '',\n      articleTitle: '',\n      articleImg: '',\n      articleDate: '',\n      articleViews: ''\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"Message\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"index\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"bookId\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return 0;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"viewState\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"memo\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setArticleProp\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setArticleProp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setIndexProp\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setIndexProp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setViewState\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setViewState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setMemoState\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setMemoState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addArticle\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addArticle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeArticle\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"removeArticle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"modifyArticle\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"modifyArticle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectArticle\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectArticle\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectArticleBook\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectArticleBook\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selectAll\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selectAll\"), _class.prototype)), _class);\nexport default new ArticleStore();","map":{"version":3,"sources":["/Users/dengseum/repo/multiicampus21_project/front/src/components/WeBook/store/ArticleStore.js"],"names":["makeObservable","action","observable","runInAction","ArticleApi","ArticleStore","constructor","articleApi","setArticleProp","name","value","article","setIndexProp","id","index","setViewState","key","viewState","setMemoState","content","memo","addArticle","result","articleCreate","message","articles","concat","removeArticle","articleDelete","communication_id","articleList","modifyArticle","articleUpdate","selectArticle","articleDetail","selectArticleBook","articleBook","selectAll","articleId","articleTitle","articleImg","articleDate","articleViews"],"mappings":"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","sourcesContent":["import { makeObservable, action, observable, runInAction } from 'mobx';\nimport ArticleApi from '../api/ArticleApi';\n\nclass ArticleStore {\n    @observable articles = [];\n\n    @observable article = { articleId: '', articleTitle: '', articleImg: '', articleDate: '', articleViews: ''};\n\n    @observable Message = '';\n\n    @observable index = 0;\n\n    @observable bookId = 0;\n\n    @observable viewState = '';\n\n    @observable memo = '';\n\n    articleApi = new ArticleApi();\n\n    constructor() {\n      makeObservable(this);\n    }\n\n    @action\n    setArticleProp(name, value) {\n      this.article = {\n        ...this.article,\n        [name]: value,\n      };\n    }\n\n    // article_id 저장\n    @action\n    setIndexProp(id) {\n      this.index = id;\n    }\n\n    // viewState 관리\n    @action\n    setViewState(key) {\n      this.viewState = key;\n    }\n\n    // memo 관리\n    @action\n    setMemoState(content) {\n      this.memo = content;\n    }\n\n    @action\n    async addArticle() {\n      const result = await this.articleApi.articleCreate(this.article);\n      if (result == null) {\n        this.message = '추가되지 않았습니다.';\n      }\n      this.articles = this.articles.concat(this.article);\n    }\n\n    @action\n    async removeArticle() {\n      await this.articleApi.articleDelete(this.article.communication_id);\n      const result = await this.articleApi.articleList();\n      runInAction(() => {\n        this.articles = article;\n      });\n      runInAction(() => {\n        this.article = {};\n      });\n    }\n\n    @action\n    async modifyArticle() {\n      await this.articleApi.articleUpdate(this.article.communication_id, this.article);\n      const result = await this.articleApi.articleList();\n      runInAction(() => {\n        this.articles = result;\n      });\n      runInAction(() => {\n        this.article = {};\n      });\n    }\n\n    @action\n    async selectArticle(id) {\n      const result = await this.articleApi.articleDetail(id);\n      runInAction(() => {\n        this.article = result;\n      });\n    }\n\n    @action\n    async selectArticleBook(id) {\n      const result = await this.articleApi.articleBook(id);\n      runInAction(() => {\n        this.articles = result;\n      });\n    }\n\n    @action\n    async selectAll() {\n      const result = await this.articleApi.articleList();\n      runInAction(()=>{\n        this.articles = result;\n      });\n    }\n}\nexport default new ArticleStore();\n"]},"metadata":{},"sourceType":"module"}